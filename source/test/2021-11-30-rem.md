---
title: rem
date: 2021-11-30 15:42:08
tags:
---


## rem

+ rem 简介  
+ postcss postcss-pxtorem
+ rem.js
    - 原理
    - 自定义rem.js
    - npm封装库 如：amfe-flexible 等

### rem简介
rem (root em ) css3新增的一个相对单位，只是是相对于根元素html的字体大小。因此，可以通过这个单位实现，成比例的修改所有字体的大小，避免em的一些问题。  
所有浏览器默认根元素的字体大小均为16px。
例如 根元素字体大小为16px,则1rem = 16px,则 1px = (1/16)rem, 则10px = (10/16)rem。  
故，可以将根元素大小设置为一个方便计算的值，如：10px ，37.5px，100px等。  
考虑设计稿的情况下，如设计稿width = 375px ，则根元素字体大小可设为37.5px，（待理解TODO）  
IE8及以前的浏览器不支持，其他的都支持。

### postcss postcss-pxtorem
可以通过postcss的插件postcss-pxtorem,实现自动将代码中的px编译为rem，避免人为的计算某个元素具体多少rem。  
注意：postcss的配置中
+ rootValue(Number | Function) 代表根元素字体大小或根据input参数返回根元素字体大小
+ 具体请看官方文档：https://www.npmjs.com/package/postcss-pxtorem


### rem.js 
还须考虑移动端适配问题，各种设备的屏幕大小不同。故需要一个js方法去根据屏幕大小初始化根元素字体大小。暂且封装称为rem.js  

#### 原理
基本原理为监听onload事件、和onresize事件等，在事件响应中改变根元素字体大小。

+ 可以直接配合postcss-pxtorem使用npm上的封装库（如amfe-flexible），可以满足大部分情景的使用
+ 但是有些情境下，还是需要自定义一份rem.js，以满足项目的需要
+ 建议看amfe-flexible的源码，（篇幅很少）



### 槽点
postcss 的rootValue只是假定根元素字体大小为某值，编译的时候根据此值将px转花为rem，虽说页面各部分的大小比例协调，但是这种协调只是自适应后的结果，最好此值就是标准设备屏幕下的根元素字体大小。
其实可以设置为设计稿宽度/10


### 相对重点

rem.js是为解决移动端适配的。

rem需要自己体会