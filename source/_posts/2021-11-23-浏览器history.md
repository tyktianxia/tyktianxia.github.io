---
title: vue-router及浏览器history
date: 2021-11-23 14:51:36
tags:
---

## 前言
最近想看vue-router源码，顺便搞懂浏览器history相关

### 浏览器history

+ hash
+ window.location
+ popstate
+ 浏览器历史记录
  
  
  

+ hash  
  网页地址中， #及后边的字符称作hash  
  hash 变动，不会重新请求后台，单会生成一个历史  
  onhashchange 监听hash变化

+ popstate  
  ~~~~
  window.onpopstate = ()=>{}
  ~~~~

  pushState replaceState()不会触发onpopstate事件  
  只会在浏览器的某些行为下触发，如：前进 后退，或者js调用history.forward back go 时，或者a标签的描点也会触发该事件  
    - pushState()
      生成一个新的历史条目,不会跳转  
      ~~~~
      history.pushState({},'title',path); // path需要和当前path同origin
      ~~~~
    - replaceState()  
      修改当前的历史条目,不会跳转  
      ~~~~
      history.replaceState({},'title',path); // path需要和当前path同origin
      ~~~~
    - 但是浏览器的历史记录表现异常

  

### vue-router